{"version":3,"sources":["components/firebase.js","components/home.js","components/register.js","components/login.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","props","init","bind","logout","firebase","initializeApp","auth","firestore","storage","persistence","Auth","Persistence","signOut","then","window","location","assign","reload","Component","url","cur","cur_name","Home","state","data","isLoading","isLoggedIn","FirstValue","SecondValue","FirstCurrency","SecondCurrency","fetch","response","json","setState","rates","onAuthStateChanged","user","document","getElementById","value","FirstCurrencyHTML","SecondCurrencyHTML","this","thisVariable","calc","toFixed","converterSelect","banOverlay","i","length","push","key","className","id","style","fontSize","color","defaultValue","readOnly","class","onClick","e","calculateExchange","renderConverter","getExchangeData","buf","currencyCode","currencyName","currencyRate","Register","onSubmit","preventDefault","isValid","type","required","minLength","maxLength","placeholder","accept","statusString","colorSpan","statusSpan","messageSpan","ReactDOM","render","formName","formSurname","formEmail","formPassword","formPassword1","formPhoto","uploadPh","name_pattern","RegExp","email_pattern","test","alert","files","includes","size","registration","uid","userData","collection","doc","set","name","surname","avatar","result","renderStatus","storageRef","ref","metadata","contentType","child","put","upload","catch","error","message","uploadPhoto","formUserData","createUserWithEmailAndPassword","uploadUserData","currentUser","Login","login","to","email","password","signInWithEmailAndPassword","setPersistence","SESSION","x","prototype","App","getNamefromFirebase","renderHeader","path","component","exact","get","renderName","getAvatarFromFirebase","console","log","download_name","getDownloadURL","src","span","alt","height","width","renderLoggedIn","renderLoggedOut"],"mappings":"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","file":"static/js/main.829ac472.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyApgA1GXCf1yDh-g0zRVZXn8iw-TF0pzKQ\",\r\n    authDomain: \"converter-28be3.firebaseapp.com\",\r\n    databaseURL: \"https://converter-28be3.firebaseio.com\",\r\n    projectId: \"converter-28be3\",\r\n    storageBucket: \"converter-28be3.appspot.com\",\r\n    messagingSenderId: \"804809298279\",\r\n    appId: \"1:804809298279:web:729b5601d5de3b71cf1fc2\"\r\n};\r\n\r\nclass Firebase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.init = this.init.bind(this);\r\n        this.logout = this.logout.bind(this);\r\n    }\r\n    \r\n    init() {\r\n        firebase.initializeApp(firebaseConfig);\r\n        \r\n        Firebase.auth = firebase.auth();\r\n        Firebase.firestore = firebase.firestore();\r\n        Firebase.storage = firebase.storage();\r\n        Firebase.persistence = firebase.auth.Auth.Persistence;\r\n    }\r\n    \r\n    logout() {\r\n        Firebase.auth.signOut()\r\n            .then(function () {\r\n                window.location.assign('#');\r\n                window.location.reload();\r\n            })\r\n    };\r\n}\r\nexport default Firebase;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-dom\";\r\nimport Firebase from \"./firebase\";\r\nimport \"./css/home.css\";\r\n\r\nlet url = \"https://api.exchangeratesapi.io/latest?base=\";\r\nlet cur = [\r\n    'CAD', 'HKD', 'ISK', 'PHP', 'DKK', 'HUF', 'CZK', 'GBP', 'RON', 'SEK', 'IDR',\r\n    'INR', 'BRL', 'RUB', 'HRK', 'JPY', 'THB', 'CHF', 'EUR', 'MYR', 'BGN', 'TRY',\r\n    'CNY', 'NOK', 'NZD', 'ZAR', 'USD', 'MXN', 'SGD', 'AUD', 'ILS', 'KRW', 'PLN'\r\n];\r\nlet cur_name = [\r\n    'Канадский доллар', 'Гонконгский доллар', 'Исландская крона', 'Филиппинское песо', 'Датская крона',\r\n    'Венгерский форинт', 'Чешская крона', 'Фунт стерлингов', 'Румынский лей', 'Шведская крона', 'Индонезийская рупия',\r\n    'Индийская рупия', 'Бразильский реал', 'Российский рубль', 'Хорватская куна', 'Японская иена', 'Тайский бат',\r\n    'Швейцарский франк', 'Евро', 'Малайзийский ринггит', 'Болгарский лев', 'Турецкая лира', 'Китайский юань',\r\n    'Норвежская крона', 'Новозеландский доллар', 'Южноафриканский рэнд', 'Доллар', 'Мексиканское песо',\r\n    'Сингапурский доллар', 'Австралийский доллар', 'Израильский шекель', 'Южнокорейская вона', 'Польский злотый' \r\n];\r\n\r\nclass Home extends Component {\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            isLoading: true,\r\n            isLoggedIn: false,\r\n            FirstValue: 100,\r\n            SecondValue: 0,\r\n            FirstCurrency: \"USD\",\r\n            SecondCurrency: \"RUB\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(url + \"RUB\")\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            this.setState({\r\n                data: json.rates,\r\n                isLoading: false\r\n            });\r\n        });\r\n\r\n        Firebase.auth.onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({\r\n                    isLoggedIn: true\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    isLoggedIn: false\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    calculateExchange() {\r\n        let FirstValue = document.getElementById(\"currency-exchange-value-1\").value;\r\n        let FirstCurrencyHTML = document.getElementById(\"currency-exchange-1\").value;\r\n        let SecondCurrencyHTML = document.getElementById(\"currency-exchange-2\").value;\r\n\r\n        this.setState({\r\n            FirstCurrency: FirstCurrencyHTML,\r\n            SecondCurrency: SecondCurrencyHTML \r\n        }, function () {\r\n            fetch(url + FirstCurrencyHTML)\r\n                .then(response => response.json())\r\n                .then(thisVariable => {\r\n                    let calc = thisVariable.rates[SecondCurrencyHTML] * FirstValue;\r\n                    this.setState({\r\n                        SecondValue: calc.toFixed(2)\r\n                    });\r\n            });\r\n        });\r\n    }\r\n\r\n    renderConverter() {\r\n        const { isLoggedIn } = this.state;\r\n        let converterSelect = [];\r\n        let banOverlay = [];\r\n        \r\n        for (let i = 0; i < cur.length; i++) {\r\n            converterSelect.push(\r\n                <option key={'converterCurrencies_' + cur[i]} value={cur[i]}>{cur[i]}</option>\r\n            );\r\n        }\r\n        \r\n        banOverlay.push(\r\n            <div key=\"ban-overlay-div\" className=\"ban-overlay\">\r\n                <i key=\"ban-logo-fas\" id=\"ban-logo\" className=\"fas fa-ban\" style={{fontSize: 70 + 'px', color: 'white'}}></i>\r\n            </div>\r\n        );\r\n        \r\n        return (\r\n            <div className=\"converterContainer\">\r\n                {isLoggedIn ? null : banOverlay}\r\n                    <div className=\"converter-main\">\r\n                        <div className=\"converter-side\">\r\n                            <div className=\"converter-side-input\">\r\n                                <input defaultValue={this.state.FirstValue} id=\"currency-exchange-value-1\"/>\r\n                                <select defaultValue={this.state.FirstCurrency} id=\"currency-exchange-1\">\r\n                                    {converterSelect}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <i className=\"fas fa-arrow-right\"/>\r\n                        <div className=\"converter-side\">\r\n                            <div className=\"converter-side-input\">\r\n                                <input readOnly value={this.state.SecondValue} id=\"currency-exchange-value-2\" />\r\n                                <select defaultValue={this.state.SecondCurrency} id=\"currency-exchange-2\">\r\n                                    {converterSelect}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"converter-button\">\r\n                        <button class=\"btn-convert\" onClick={ (e) => this.calculateExchange()}>Convert</button>\r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { isLoading } = this.state;\r\n\r\n        if (isLoading) {\r\n            return <h1>Loading...</h1>\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {this.renderConverter()}\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th className=\"TableHeaderCurrencyCode\">Код валюты</th>\r\n                            <th className=\"TableHeaderCurrencyName\">Полное название валюты</th>\r\n                            <th className=\"TableHeaderCurrencyRate\">Курс валюты по отношению к рублю</th>\r\n                        </tr>\r\n                        {this.getExchangeData()}\r\n                    </tbody>\r\n                </table>\r\n            </>\r\n        )\r\n    }\r\n\r\n    getExchangeData() {\r\n        let buf = [];\r\n        let rates = this.state.data;\r\n\r\n        for (let i = 0; i < cur.length; i++) {\r\n            let currencyCode = cur[i];\r\n            let currencyName = cur_name[i];\r\n            let currencyRate = rates[currencyCode];\r\n\r\n            buf.push(\r\n                <tr>\r\n                    <th>{currencyCode}</th>\r\n                    <th>{currencyName}</th>\r\n                    <th>{currencyRate}</th>\r\n                </tr>\r\n            );\r\n        }\r\n        return buf;\r\n    }\r\n}\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Firebase from \"./firebase\"\r\n\r\nclass Register extends Component {\r\n    render() {\r\n        return (\r\n            <form class=\"formApplication\" onSubmit={e => { e.preventDefault(); this.isValid()}}>\r\n                <span>Зарегистрироваться</span>\r\n                <input class=\"InputMain\" id=\"name\" type=\"text\" required minLength=\"2\" maxLength=\"30\" placeholder=\"Имя (обязательно)\" />\r\n                <input class=\"InputMain\" id=\"surname\" type=\"text\" required minLength=\"2\" maxLength=\"30\" placeholder=\"Фамилия (обязательно)\" />\r\n                <input class=\"InputMain\" id=\"email\" type=\"email\" required placeholder=\"E-Mail (обязательно)\" />\r\n                <input class=\"InputMain\" id=\"password\" type=\"password\" placeholder=\"Пароль (обязательно)\"/>\r\n                <input class=\"InputMain\" id=\"password1\" type=\"password\" placeholder=\"Подтверждение пароля\"/>\r\n                <div class=\"InputPhoto\">\r\n                    <span>Выберите фото:</span>\r\n                    <input class=\"InputMain\" id=\"photo\" type=\"file\" accept=\"image/*\" />\r\n                </div>\r\n\r\n                <button class=\"button\" type=\"submit\">Зарегистрироваться</button>\r\n                <div id=\"statusSpan\"></div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    renderStatus(statusString, colorSpan) {\r\n        let statusSpan = document.getElementById(\"statusSpan\");\r\n        let messageSpan = <span style={{ color: colorSpan }}>{statusString}</span>;\r\n        ReactDOM.render(messageSpan, statusSpan);\r\n    }\r\n\r\n    isValid() {\r\n        const formName = document.getElementById(\"name\");\r\n        const formSurname = document.getElementById(\"surname\");\r\n        const formEmail = document.getElementById(\"email\");\r\n        const formPassword = document.getElementById(\"password\");\r\n        const formPassword1 = document.getElementById(\"password1\");\r\n        const formPhoto = document.getElementById(\"photo\");\r\n        let uploadPh = false;\r\n\r\n        const name_pattern = new RegExp('^[A-ZА-Я]+$', 'i');\r\n        const email_pattern = new RegExp('^([A-ZА-Я]|[0-9]|\\.|-|_)+@([A-ZА-Я]|[0-9]|\\.|-|_)+\\.([A-ZА-Я]|[0-9]|\\.)+$', 'i');\r\n\r\n        if (!name_pattern.test(formName.value) || !name_pattern.test(formSurname.value))\r\n        {\r\n            alert('Имя и фамилия могут содержать только буквы.');\r\n            return false;\r\n        }\r\n\r\n        if (!email_pattern.test(formEmail.value))\r\n        {\r\n            alert('Некорректно введён e-mail.');\r\n            return false;\r\n        }\r\n\r\n        if (formPassword.value.length < 6)\r\n        {\r\n            alert('Пароль должен содержать более 6 символов');\r\n            return false;\r\n        }\r\n\r\n        if (formPassword.value !== formPassword1.value)\r\n        {\r\n            alert('Пароли не совпадают.');\r\n            return false;\r\n        }\r\n\r\n        if (formPhoto.files.length !== 0)\r\n        {\r\n            if (formPhoto.files[0].type.includes('image/') && formPhoto.files[0].size <= 10 * 1024 * 1024)\r\n            {\r\n                uploadPh = true;\r\n            }\r\n            else\r\n            {\r\n                alert('Файл должен быть фотографией и не может иметь размер более чем 10Мб.');\r\n                return false;\r\n            }\r\n        }\r\n        this.registration(uploadPh);\r\n    }\r\n\r\n    uploadUserData(uid, userData) {\r\n        Firebase.firestore.collection(\"users\").doc(uid).set({\r\n            name: userData[0],\r\n            surname: userData[1],\r\n            avatar: userData[2].value === \"\" ? false : true\r\n        })\r\n        .then(result => {\r\n            this.renderStatus(\"Регистрация была успешно завершена\", \"green\");\r\n\r\n            if (userData[2].value !== \"\") {\r\n                let storageRef = Firebase.storage.ref();\r\n                let metadata = { contentType: userData[2].files[0].type };\r\n                        \r\n                storageRef.child(uid + '.jpg').put(userData[2].files[0], metadata)\r\n                    .then(upload => {\r\n                        window.location.assign('#');\r\n                    })\r\n                    .catch(error => {\r\n                        this.renderStatus(error.message, \"red\");\r\n                });\r\n            }\r\n        })\r\n        .catch(error => {\r\n            this.renderStatus(\"Ошибка отправки данных: \" + error, \"red\");\r\n        });\r\n    }\r\n\r\n    registration(uploadPhoto) {\r\n        const formName = document.getElementById(\"name\").value;\r\n        const formSurname = document.getElementById(\"surname\").value;\r\n        const formEmail = document.getElementById(\"email\").value;\r\n        const formPassword = document.getElementById(\"password\").value;\r\n        const formPhoto = document.getElementById(\"photo\");\r\n        const formUserData = [ formName, formSurname, formPhoto ];\r\n        Firebase.auth.createUserWithEmailAndPassword(formEmail, formPassword)\r\n            .then(user => {\r\n                this.uploadUserData(Firebase.auth.currentUser.uid, formUserData);\r\n            })\r\n            .catch(error => {\r\n                this.renderStatus(error.message, 'red')\r\n            });\r\n    }\r\n}\r\nexport default Register;","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Firebase from \"./firebase\"\r\n\r\nclass Login extends Component {\r\n    render() {\r\n        return (\r\n            <form className=\"formApplication\" onSubmit={e => { e.preventDefault(); this.login()}}>\r\n                <span>Логин</span>\r\n                <input  className=\"InputMain\" id=\"login\" type=\"email\" required placeholder=\"E-Mail\"/>\r\n                <input className=\"InputMain\" id=\"password\" type=\"password\" placeholder=\"Password\"/>\r\n                <button className=\"button\" type=\"submit\">Войти</button>\r\n                <small>Нет аккаунта? <Link to=\"/registration\">Зарегистрируйтесь.</Link></small>\r\n                <span id=\"statusSpan\"></span>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    renderStatus(statusString, colorSpan) {\r\n        let statusSpan = document.getElementById(\"statusSpan\");\r\n        let messageSpan = <span style={{ color: colorSpan }}>{statusString}</span>;\r\n        ReactDOM.render(messageSpan, statusSpan);\r\n    }\r\n\r\n    login(){\r\n        const email = document.getElementById(\"login\").value;\r\n        const password = document.getElementById(\"password\").value;\r\n\r\n        Firebase.auth.signInWithEmailAndPassword(email, password)\r\n            .then(result => {\r\n                this.renderStatus(\"Login successful\", \"green\");\r\n                Firebase.auth.setPersistence(Firebase.persistence.SESSION)\r\n                    .then(x => {\r\n                        window.location.assign('#');\r\n                    })\r\n            })\r\n            .catch(error => {\r\n                this.renderStatus(error.message, \"red\");\r\n            });\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter, Route, Link, useHistory } from 'react-router-dom';\r\n\r\nimport \"./index.css\"\r\nimport Home from \"./components/home\";\r\n\r\nimport Register from \"./components/register\";\r\nimport Login from \"./components/login\";\r\nimport \"./components/css/auth.css\"\r\n\r\nimport Firebase from \"./components/firebase\";\r\nFirebase.prototype.init();\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isLoggedIn: false,\r\n            name: \"\",\r\n            avatar: \"\"\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        Firebase.auth.onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ isLoggedIn: true });\r\n                this.getNamefromFirebase(user);\r\n            } else {\r\n                this.setState({ isLoggedIn: false });\r\n            }\r\n          });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n                {this.renderHeader()}\r\n                <div class=\"contentContainer\">\r\n                    <div class=\"content\">\r\n                        <Route path=\"/\" component={Home} exact />\r\n                        <Route path=\"/auth\" component={Login} />\r\n                        <Route path=\"/registration\" component={Register} />\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        )\r\n    }\r\n\r\n    getNamefromFirebase(user) {\r\n        Firebase.firestore.collection(\"users\").doc(user.uid).get()\r\n            .then((doc) => {\r\n                this.setState({\r\n                    name: doc.data().name,\r\n                    avatar: doc.data().avatar\r\n                });\r\n\r\n                this.renderName();\r\n                this.getAvatarFromFirebase(user);\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"Firestore Error =>\", error.message, \"(If you just registered than it's \\\"okay\\\" that this error shows, because photo hasn't done uploading just yet and auth hook is already triggered.)\")\r\n            });\r\n    }\r\n\r\n    getAvatarFromFirebase(user) {\r\n        let download_name = this.state.avatar ? user.uid : \"default\";\r\n\r\n        Firebase.storage.ref().child(download_name + '.jpg').getDownloadURL()\r\n            .then((url) => {\r\n                let img = document.getElementById(\"user-avatar\");\r\n                img.src = url;\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"download avatar =>\", error.message);\r\n            });\r\n    }\r\n\r\n    renderName() {\r\n        let span = document.getElementById(\"user-name\");\r\n        ReactDOM.render(this.state.name, span);\r\n    }\r\n\r\n    renderLoggedIn() {\r\n        return (\r\n            <div className='userInfo'>\r\n                <img alt=\"\" id=\"user-avatar\" height=\"40\" width=\"40\"/>\r\n                <span id=\"user-name\" />\r\n                <button className=\"btn-logout\" onClick={ Firebase.prototype.logout.bind(this) }>Выйти</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderLoggedOut() {\r\n        return <Link to=\"/auth\"><button className=\"btn-login\">Войти</button></Link>;\r\n    }\r\n\r\n    renderHeader() {\r\n        const { isLoggedIn } = this.state;\r\n        return(\r\n            <div className=\"headerContainer\">\r\n                <div className=\"header\">\r\n                    <Link className=\"LogoTitle\" to=\"/\">КОНВЕРТЕР ВАЛЮТ</Link>\r\n                    {isLoggedIn ? this.renderLoggedIn() : this.renderLoggedOut()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;\r\nReactDOM.render(<App/>, document.getElementById(\"root\"));"],"sourceRoot":""}