{"version":3,"sources":["components/firebase.js","components/home.js","components/register.js","components/login.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","props","init","bind","logout","firebase","initializeApp","auth","firestore","storage","persistence","Auth","Persistence","signOut","then","window","location","assign","reload","Component","url","cur","cur_name","Home","state","data","isLoading","isLoggedIn","FirstValue","SecondValue","FirstCurrency","SecondCurrency","fetch","response","json","setState","rates","onAuthStateChanged","user","document","getElementById","value","FirstCurrencyHTML","SecondCurrencyHTML","this","thisVariable","calc","toFixed","converterSelect","banOverlay","i","length","push","key","className","id","style","fontSize","color","defaultValue","readOnly","class","onClick","e","calculateExchange","renderConverter","getExchangeData","buf","currencyCode","currencyName","currencyRate","Register","onSubmit","preventDefault","isValid","type","required","minLength","maxLength","placeholder","accept","marginTop","statusString","colorSpan","statusSpan","messageSpan","ReactDOM","render","formName","formSurname","formEmail","formPassword","formPassword1","formPhoto","uploadPh","name_pattern","RegExp","email_pattern","test","alert","files","includes","size","registration","uid","userData","collection","doc","set","name","surname","avatar","result","renderStatus","storageRef","ref","metadata","contentType","child","put","upload","catch","error","message","uploadPhoto","formUserData","createUserWithEmailAndPassword","uploadUserData","currentUser","Login","login","textDecoration","to","email","password","signInWithEmailAndPassword","setPersistence","SESSION","x","prototype","App","getNamefromFirebase","renderHeader","path","component","exact","get","renderName","getAvatarFromFirebase","console","log","download_name","getDownloadURL","src","span","alt","height","width","renderLoggedIn","renderLoggedOut"],"mappings":"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","file":"static/js/main.aac8cbbf.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyApgA1GXCf1yDh-g0zRVZXn8iw-TF0pzKQ\",\r\n    authDomain: \"converter-28be3.firebaseapp.com\",\r\n    databaseURL: \"https://converter-28be3.firebaseio.com\",\r\n    projectId: \"converter-28be3\",\r\n    storageBucket: \"converter-28be3.appspot.com\",\r\n    messagingSenderId: \"804809298279\",\r\n    appId: \"1:804809298279:web:729b5601d5de3b71cf1fc2\"\r\n};\r\n\r\nclass Firebase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.init = this.init.bind(this);\r\n        this.logout = this.logout.bind(this);\r\n    }\r\n    \r\n    init() {\r\n        firebase.initializeApp(firebaseConfig);\r\n        \r\n        Firebase.auth = firebase.auth();\r\n        Firebase.firestore = firebase.firestore();\r\n        Firebase.storage = firebase.storage();\r\n        Firebase.persistence = firebase.auth.Auth.Persistence;\r\n    }\r\n    \r\n    logout() {\r\n        Firebase.auth.signOut()\r\n            .then(function () {\r\n                window.location.assign('#');\r\n                window.location.reload();\r\n            })\r\n    };\r\n}\r\nexport default Firebase;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-dom\";\r\nimport Firebase from \"./firebase\";\r\nimport \"./css/home.css\";\r\n\r\nlet url = \"https://api.exchangeratesapi.io/latest?base=\";\r\nlet cur = [\r\n    'CAD', 'HKD', 'ISK', 'PHP', 'DKK', 'HUF', 'CZK', 'GBP', 'RON', 'SEK', 'IDR',\r\n    'INR', 'BRL', 'RUB', 'HRK', 'JPY', 'THB', 'CHF', 'EUR', 'MYR', 'BGN', 'TRY',\r\n    'CNY', 'NOK', 'NZD', 'ZAR', 'USD', 'MXN', 'SGD', 'AUD', 'ILS', 'KRW', 'PLN'\r\n];\r\nlet cur_name = [\r\n    'Канадский доллар', 'Гонконгский доллар', 'Исландская крона', 'Филиппинское песо', 'Датская крона',\r\n    'Венгерский форинт', 'Чешская крона', 'Фунт стерлингов', 'Румынский лей', 'Шведская крона', 'Индонезийская рупия',\r\n    'Индийская рупия', 'Бразильский реал', 'Российский рубль', 'Хорватская куна', 'Японская иена', 'Тайский бат',\r\n    'Швейцарский франк', 'Евро', 'Малайзийский ринггит', 'Болгарский лев', 'Турецкая лира', 'Китайский юань',\r\n    'Норвежская крона', 'Новозеландский доллар', 'Южноафриканский рэнд', 'Доллар', 'Мексиканское песо',\r\n    'Сингапурский доллар', 'Австралийский доллар', 'Израильский шекель', 'Южнокорейская вона', 'Польский злотый' \r\n];\r\n\r\nclass Home extends Component {\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            isLoading: true,\r\n            isLoggedIn: false,\r\n            FirstValue: 100,\r\n            SecondValue: 0,\r\n            FirstCurrency: \"USD\",\r\n            SecondCurrency: \"RUB\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(url + \"RUB\")\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            this.setState({\r\n                data: json.rates,\r\n                isLoading: false\r\n            });\r\n        });\r\n\r\n        Firebase.auth.onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({\r\n                    isLoggedIn: true\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    isLoggedIn: false\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    calculateExchange() {\r\n        let FirstValue = document.getElementById(\"currency-exchange-value-1\").value;\r\n        let FirstCurrencyHTML = document.getElementById(\"currency-exchange-1\").value;\r\n        let SecondCurrencyHTML = document.getElementById(\"currency-exchange-2\").value;\r\n\r\n        this.setState({\r\n            FirstCurrency: FirstCurrencyHTML,\r\n            SecondCurrency: SecondCurrencyHTML \r\n        }, function () {\r\n            fetch(url + FirstCurrencyHTML)\r\n                .then(response => response.json())\r\n                .then(thisVariable => {\r\n                    let calc = thisVariable.rates[SecondCurrencyHTML] * FirstValue;\r\n                    this.setState({\r\n                        SecondValue: calc.toFixed(2)\r\n                    });\r\n            });\r\n        });\r\n    }\r\n\r\n    renderConverter() {\r\n        const { isLoggedIn } = this.state;\r\n        let converterSelect = [];\r\n        let banOverlay = [];\r\n        \r\n        for (let i = 0; i < cur.length; i++) {\r\n            converterSelect.push(\r\n                <option key={'converterCurrencies_' + cur[i]} value={cur[i]}>{cur[i]}</option>\r\n            );\r\n        }\r\n        \r\n        banOverlay.push(\r\n            <div key=\"ban-overlay-div\" className=\"ban-overlay\">\r\n                <i key=\"ban-logo-fas\" id=\"ban-logo\" className=\"fas fa-ban\" style={{fontSize: 70 + 'px', color: 'white'}}></i>\r\n            </div>\r\n        );\r\n        \r\n        return (\r\n            <div className=\"converterContainer\">\r\n                {isLoggedIn ? null : banOverlay}\r\n                    <div className=\"converter-main\">\r\n                        <div className=\"converter-side\">\r\n                            <div className=\"converter-side-input\">\r\n                                <input defaultValue={this.state.FirstValue} id=\"currency-exchange-value-1\"/>\r\n                                <select defaultValue={this.state.FirstCurrency} id=\"currency-exchange-1\">\r\n                                    {converterSelect}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <i className=\"fas fa-arrow-right\"/>\r\n                        <div className=\"converter-side\">\r\n                            <div className=\"converter-side-input\">\r\n                                <input readOnly value={this.state.SecondValue} id=\"currency-exchange-value-2\" />\r\n                                <select defaultValue={this.state.SecondCurrency} id=\"currency-exchange-2\">\r\n                                    {converterSelect}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"converter-button\">\r\n                        <button class=\"btn-convert\" onClick={ (e) => this.calculateExchange()}>Convert</button>\r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { isLoading } = this.state;\r\n\r\n        if (isLoading) {\r\n            return <h1>Loading...</h1>\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {this.renderConverter()}\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th className=\"TableHeaderCurrencyCode\">Код валюты</th>\r\n                            <th className=\"TableHeaderCurrencyName\">Полное название валюты</th>\r\n                            <th className=\"TableHeaderCurrencyRate\">Курс валюты по отношению к рублю</th>\r\n                        </tr>\r\n                        {this.getExchangeData()}\r\n                    </tbody>\r\n                </table>\r\n            </>\r\n        )\r\n    }\r\n\r\n    getExchangeData() {\r\n        let buf = [];\r\n        let rates = this.state.data;\r\n\r\n        for (let i = 0; i < cur.length; i++) {\r\n            let currencyCode = cur[i];\r\n            let currencyName = cur_name[i];\r\n            let currencyRate = rates[currencyCode];\r\n\r\n            buf.push(\r\n                <tr>\r\n                    <th>{currencyCode}</th>\r\n                    <th>{currencyName}</th>\r\n                    <th>{currencyRate}</th>\r\n                </tr>\r\n            );\r\n        }\r\n        return buf;\r\n    }\r\n}\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./css/register.css\";\r\nimport Firebase from \"./firebase\"\r\n\r\nclass Register extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"formBlockContainer\">\r\n                <div className=\"formBlock\">\r\n                    <div class=\"title\">Зарегистрироваться</div>\r\n                    <form class=\"formApplication\" onSubmit={e => { e.preventDefault(); this.isValid()}}>\r\n                        <div class=\"formName\">\r\n                            <input class=\"InputMain\" id=\"name\" type=\"text\" required minLength=\"2\" maxLength=\"30\" placeholder=\"Иван\" />\r\n                            <label class=\"formNameLabel\">\r\n                                ИМЯ\r\n                                <span class=\"inputRequired\">*</span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div class=\"formSurname\">\r\n                            <input class=\"InputMain\" id=\"surname\" type=\"text\" required minLength=\"2\" maxLength=\"30\" placeholder=\"Иванов\" />\r\n                            <label class=\"formSurnameLabel\">\r\n                                ФАМИЛИЯ\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div class=\"formEmail\">\r\n                            <input class=\"InputMain\" id=\"email\" type=\"email\" required placeholder=\"ivan21@mail.ru\" />\r\n                            <label class=\"formEmailLabel\">\r\n                                EMAIL\r\n                                <span class=\"inputRequired\">*</span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div class=\"formPassword\">\r\n                            <input class=\"InputMain\" id=\"password\" type=\"password\"/>\r\n                            <label class=\"formPasswordLabel\">\r\n                                Пароль должен содержать не менее 6 символов\r\n                                <span class=\"inputRequired\">*</span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div class=\"formPassword1\">\r\n                            <input class=\"InputMain\" id=\"password1\" type=\"password\"/>\r\n                            <label class=\"formPassword1Label\">\r\n                                Повторите пароль, пароли должны совпадать\r\n                                <span class=\"inputRequired\">*</span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div class=\"formPhoto\">\r\n                            <label class=\"formPhotoLabel\">\r\n                                ПРИКРЕПИТЬ ФОТО\r\n                            </label>\r\n                            <input class=\"InputPhoto\" id=\"photo\" type=\"file\" accept=\"image/*\" />\r\n                        </div>\r\n\r\n                        <div class=\"buttonPush\">\r\n                            <button class=\"button\" type=\"submit\">Зарегистрироваться</button>\r\n                        </div>\r\n                    </form>\r\n                    <div id=\"statusSpan\" style={{marginTop: 10+'px'}}></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderStatus(statusString, colorSpan)\r\n    {\r\n        let statusSpan = document.getElementById(\"statusSpan\");\r\n        let messageSpan = <span style={{ color: colorSpan }}>{statusString}</span>;\r\n        ReactDOM.render(messageSpan, statusSpan);\r\n    }\r\n\r\n    isValid() {\r\n        const formName = document.getElementById(\"name\");\r\n        const formSurname = document.getElementById(\"surname\");\r\n        const formEmail = document.getElementById(\"email\");\r\n        const formPassword = document.getElementById(\"password\");\r\n        const formPassword1 = document.getElementById(\"password1\");\r\n        const formPhoto = document.getElementById(\"photo\");\r\n        let uploadPh = false;\r\n\r\n        const name_pattern = new RegExp('^[A-ZА-Я]+$', 'i');\r\n        const email_pattern = new RegExp('^([A-ZА-Я]|[0-9]|\\.|-|_)+@([A-ZА-Я]|[0-9]|\\.|-|_)+\\.([A-ZА-Я]|[0-9]|\\.)+$', 'i');\r\n\r\n        if (!name_pattern.test(formName.value) || !name_pattern.test(formSurname.value))\r\n        {\r\n            alert('Имя и фамилия могут содержать только буквы.');\r\n            return false;\r\n        }\r\n\r\n        if (!email_pattern.test(formEmail.value))\r\n        {\r\n            alert('Некорректно введён e-mail.');\r\n            return false;\r\n        }\r\n\r\n        if (formPassword.value.length < 6)\r\n        {\r\n            alert('Пароль должен содержать более 6 символов');\r\n            return false;\r\n        }\r\n\r\n        if (formPassword.value !== formPassword1.value)\r\n        {\r\n            alert('Пароли не совпадают.');\r\n            return false;\r\n        }\r\n\r\n        if (formPhoto.files.length !== 0)\r\n        {\r\n            if (formPhoto.files[0].type.includes('image/') && formPhoto.files[0].size <= 10 * 1024 * 1024)\r\n            {\r\n                uploadPh = true;\r\n            }\r\n            else\r\n            {\r\n                alert('Файл должен быть фотографией и не может иметь размер более чем 10Мб.');\r\n                return false;\r\n            }\r\n        }\r\n\r\n        this.registration(uploadPh);\r\n    }\r\n\r\n    uploadUserData(uid, userData) {\r\n        Firebase.firestore.collection(\"users\").doc(uid).set({\r\n            name: userData[0],\r\n            surname: userData[1],\r\n            avatar: userData[2].value === \"\" ? false : true\r\n        })\r\n        .then(result => {\r\n            this.renderStatus(\"Регистрация была успешно завершена\", \"green\");\r\n\r\n            if (userData[2].value !== \"\") {\r\n                let storageRef = Firebase.storage.ref();\r\n                let metadata = { contentType: userData[2].files[0].type };\r\n                        \r\n                storageRef.child(uid + '.jpg').put(userData[2].files[0], metadata)\r\n                    .then(upload => {\r\n                        window.location.assign('#');\r\n                    })\r\n                    .catch(error => {\r\n                        this.renderStatus(error.message, \"red\");\r\n                });\r\n            }\r\n        })\r\n        .catch(error => {\r\n            this.renderStatus(\"Ошибка отправки данных: \" + error, \"red\");\r\n        });\r\n    }\r\n\r\n    registration(uploadPhoto) {\r\n        const formName = document.getElementById(\"name\").value;\r\n        const formSurname = document.getElementById(\"surname\").value;\r\n        const formEmail = document.getElementById(\"email\").value;\r\n        const formPassword = document.getElementById(\"password\").value;\r\n        const formPhoto = document.getElementById(\"photo\");\r\n        const formUserData = [ formName, formSurname, formPhoto ];\r\n        Firebase.auth.createUserWithEmailAndPassword(formEmail, formPassword)\r\n            .then(user => {\r\n                this.uploadUserData(Firebase.auth.currentUser.uid, formUserData);\r\n            })\r\n            .catch(error => {\r\n                this.renderStatus(error.message, 'red')\r\n            });\r\n    }\r\n}\r\nexport default Register;","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport \"./css/login.css\";\r\nimport Firebase from \"./firebase\"\r\n\r\nclass Login extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"formBlockContainer\">\r\n                <div className=\"formBlock\">\r\n                    <form className=\"formApplication\" onSubmit={e => { e.preventDefault(); this.login()}}>\r\n                        <div className=\"formLogin\">\r\n                            <input  className=\"InputMain\" id=\"login\" type=\"email\" required placeholder=\"ivan21@mail.ru\" />\r\n                            <label className=\"formLoginLabel\">\r\n                                Логин (почта)\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"formPassword\">\r\n                            <input className=\"InputMain\" id=\"password\" type=\"password\"/>\r\n                            <label className=\"formPasswordLabel\">\r\n                                Пароль\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"buttonPush\">\r\n                            <button className=\"button\" type=\"submit\">Войти</button>\r\n                            <label className=\"formRegLabel\">\r\n                                <small className=\"textLog\">Нет аккаунта? <Link style={{color: \"gray\", textDecoration: \"none\"}} to=\"/registration\">Зарегистрируйтесь.</Link></small>\r\n                            </label>\r\n                        </div>\r\n                        <span id=\"statusSpan\"></span>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderStatus(statusString, colorSpan) {\r\n        let statusSpan = document.getElementById(\"statusSpan\");\r\n        let messageSpan = <span style={{ color: colorSpan }}>{statusString}</span>;\r\n        ReactDOM.render(messageSpan, statusSpan);\r\n    }\r\n\r\n    login(){\r\n        const email = document.getElementById(\"login\").value;\r\n        const password = document.getElementById(\"password\").value;\r\n\r\n        Firebase.auth.signInWithEmailAndPassword(email, password)\r\n            .then(result => {\r\n                this.renderStatus(\"Login successful\", \"green\");\r\n                Firebase.auth.setPersistence(Firebase.persistence.SESSION)\r\n                    .then(x => {\r\n                        window.location.assign('#');\r\n                    })\r\n            })\r\n            .catch(error => {\r\n                this.renderStatus(error.message, \"red\");\r\n            });\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter, Route, Link, useHistory } from 'react-router-dom';\r\n\r\nimport \"./index.css\"\r\nimport Home from \"./components/home\";\r\nimport Register from \"./components/register\";\r\nimport Login from \"./components/login\";\r\n\r\nimport Firebase from \"./components/firebase\";\r\nFirebase.prototype.init();\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isLoggedIn: false,\r\n            name: \"\",\r\n            avatar: \"\"\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        Firebase.auth.onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ isLoggedIn: true });\r\n                this.getNamefromFirebase(user);\r\n            } else {\r\n                this.setState({ isLoggedIn: false });\r\n            }\r\n          });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n                {this.renderHeader()}\r\n                <div class=\"contentContainer\">\r\n                    <div class=\"content\">\r\n                        <Route path=\"/\" component={Home} exact />\r\n                        <Route path=\"/auth\" component={Login} />\r\n                        <Route path=\"/registration\" component={Register} />\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        )\r\n    }\r\n\r\n    getNamefromFirebase(user) {\r\n        Firebase.firestore.collection(\"users\").doc(user.uid).get()\r\n            .then((doc) => {\r\n                this.setState({\r\n                    name: doc.data().name,\r\n                    avatar: doc.data().avatar\r\n                });\r\n\r\n                this.renderName();\r\n                this.getAvatarFromFirebase(user);\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"Firestore Error =>\", error.message, \"(If you just registered than it's \\\"okay\\\" that this error shows, because photo hasn't done uploading just yet and auth hook is already triggered.)\")\r\n            });\r\n    }\r\n\r\n    getAvatarFromFirebase(user) {\r\n        let download_name = this.state.avatar ? user.uid : \"default\";\r\n\r\n        Firebase.storage.ref().child(download_name + '.jpg').getDownloadURL()\r\n            .then((url) => {\r\n                let img = document.getElementById(\"user-avatar\");\r\n                img.src = url;\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"download avatar =>\", error.message);\r\n            });\r\n    }\r\n\r\n    renderName() {\r\n        let span = document.getElementById(\"user-name\");\r\n        ReactDOM.render(this.state.name, span);\r\n    }\r\n\r\n    renderLoggedIn() {\r\n        return (\r\n            <div className='userInfo'>\r\n                <img alt=\"\" id=\"user-avatar\" height=\"40\" width=\"40\"/>\r\n                <span id=\"user-name\" />\r\n                <button className=\"btn-logout\" onClick={ Firebase.prototype.logout.bind(this) }>Выйти</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderLoggedOut() {\r\n        return <Link to=\"/auth\"><button className=\"btn-login\">Войти</button></Link>;\r\n    }\r\n\r\n    renderHeader() {\r\n        const { isLoggedIn } = this.state;\r\n        return(\r\n            <div className=\"headerContainer\">\r\n                <div className=\"header\">\r\n                    <Link to=\"/\"><h1>КОНВЕРТЕР ВАЛЮТ</h1></Link>\r\n                    {isLoggedIn ? this.renderLoggedIn() : this.renderLoggedOut()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;\r\nReactDOM.render(<App/>, document.getElementById(\"root\"));"],"sourceRoot":""}