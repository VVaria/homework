(this.webpackJsonphomework=this.webpackJsonphomework||[]).push([[0],{27:function(e,t,a){e.exports=a(48)},32:function(e,t,a){},42:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(8),c=a(10),i=a(9),l=a(0),s=a.n(l),o=a(11),u=a.n(o),d=a(13),m=a(2),h=(a(32),a(16)),g=a(14),p=a.n(g),v=(a(36),a(38),a(49),{apiKey:"AIzaSyApgA1GXCf1yDh-g0zRVZXn8iw-TF0pzKQ",authDomain:"converter-28be3.firebaseapp.com",databaseURL:"https://converter-28be3.firebaseio.com",projectId:"converter-28be3",storageBucket:"converter-28be3.appspot.com",messagingSenderId:"804809298279",appId:"1:804809298279:web:729b5601d5de3b71cf1fc2"}),f=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).init=r.init.bind(Object(h.a)(r)),r.logout=r.logout.bind(Object(h.a)(r)),r}return Object(r.a)(a,[{key:"init",value:function(){p.a.initializeApp(v),a.auth=p.a.auth(),a.firestore=p.a.firestore(),a.storage=p.a.storage(),a.persistence=p.a.auth.Auth.Persistence}},{key:"logout",value:function(){a.auth.signOut().then((function(){window.location.assign("#"),window.location.reload()}))}}]),a}(l.Component),E=(a(42),"https://api.exchangeratesapi.io/latest?base="),y=["CAD","HKD","ISK","PHP","DKK","HUF","CZK","GBP","RON","SEK","IDR","INR","BRL","RUB","HRK","JPY","THB","CHF","EUR","MYR","BGN","TRY","CNY","NOK","NZD","ZAR","USD","MXN","SGD","AUD","ILS","KRW","PLN"],b=["\u041a\u0430\u043d\u0430\u0434\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440","\u0413\u043e\u043d\u043a\u043e\u043d\u0433\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440","\u0418\u0441\u043b\u0430\u043d\u0434\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430","\u0424\u0438\u043b\u0438\u043f\u043f\u0438\u043d\u0441\u043a\u043e\u0435 \u043f\u0435\u0441\u043e","\u0414\u0430\u0442\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430","\u0412\u0435\u043d\u0433\u0435\u0440\u0441\u043a\u0438\u0439 \u0444\u043e\u0440\u0438\u043d\u0442","\u0427\u0435\u0448\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430","\u0424\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432","\u0420\u0443\u043c\u044b\u043d\u0441\u043a\u0438\u0439 \u043b\u0435\u0439","\u0428\u0432\u0435\u0434\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430","\u0418\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u0439\u0441\u043a\u0430\u044f \u0440\u0443\u043f\u0438\u044f","\u0418\u043d\u0434\u0438\u0439\u0441\u043a\u0430\u044f \u0440\u0443\u043f\u0438\u044f","\u0411\u0440\u0430\u0437\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0440\u0435\u0430\u043b","\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c","\u0425\u043e\u0440\u0432\u0430\u0442\u0441\u043a\u0430\u044f \u043a\u0443\u043d\u0430","\u042f\u043f\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u0435\u043d\u0430","\u0422\u0430\u0439\u0441\u043a\u0438\u0439 \u0431\u0430\u0442","\u0428\u0432\u0435\u0439\u0446\u0430\u0440\u0441\u043a\u0438\u0439 \u0444\u0440\u0430\u043d\u043a","\u0415\u0432\u0440\u043e","\u041c\u0430\u043b\u0430\u0439\u0437\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0438\u043d\u0433\u0433\u0438\u0442","\u0411\u043e\u043b\u0433\u0430\u0440\u0441\u043a\u0438\u0439 \u043b\u0435\u0432","\u0422\u0443\u0440\u0435\u0446\u043a\u0430\u044f \u043b\u0438\u0440\u0430","\u041a\u0438\u0442\u0430\u0439\u0441\u043a\u0438\u0439 \u044e\u0430\u043d\u044c","\u041d\u043e\u0440\u0432\u0435\u0436\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430","\u041d\u043e\u0432\u043e\u0437\u0435\u043b\u0430\u043d\u0434\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440","\u042e\u0436\u043d\u043e\u0430\u0444\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0438\u0439 \u0440\u044d\u043d\u0434","\u0414\u043e\u043b\u043b\u0430\u0440","\u041c\u0435\u043a\u0441\u0438\u043a\u0430\u043d\u0441\u043a\u043e\u0435 \u043f\u0435\u0441\u043e","\u0421\u0438\u043d\u0433\u0430\u043f\u0443\u0440\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440","\u0410\u0432\u0441\u0442\u0440\u0430\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440","\u0418\u0437\u0440\u0430\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0448\u0435\u043a\u0435\u043b\u044c","\u042e\u0436\u043d\u043e\u043a\u043e\u0440\u0435\u0439\u0441\u043a\u0430\u044f \u0432\u043e\u043d\u0430","\u041f\u043e\u043b\u044c\u0441\u043a\u0438\u0439 \u0437\u043b\u043e\u0442\u044b\u0439"],I=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={data:[],isLoading:!0,isLoggedIn:!1,FirstValue:100,SecondValue:0,FirstCurrency:"USD",SecondCurrency:"RUB"},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(E+"RUB").then((function(e){return e.json()})).then((function(t){e.setState({data:t.rates,isLoading:!1})})),f.auth.onAuthStateChanged((function(t){t?e.setState({isLoggedIn:!0}):e.setState({isLoggedIn:!1})}))}},{key:"calculateExchange",value:function(){var e=document.getElementById("currency-exchange-value-1").value,t=document.getElementById("currency-exchange-1").value,a=document.getElementById("currency-exchange-2").value;this.setState({FirstCurrency:t,SecondCurrency:a},(function(){var n=this;fetch(E+t).then((function(e){return e.json()})).then((function(t){var r=t.rates[a]*e;n.setState({SecondValue:r.toFixed(2)})}))}))}},{key:"renderConverter",value:function(){for(var e=this,t=this.state.isLoggedIn,a=[],n=[],r=0;r<y.length;r++)a.push(s.a.createElement("option",{key:"converterCurrencies_"+y[r],value:y[r]},y[r]));return n.push(s.a.createElement("div",{key:"ban-overlay-div",className:"ban-overlay"},s.a.createElement("i",{key:"ban-logo-fas",id:"ban-logo",className:"fas fa-ban",style:{fontSize:"70px",color:"white"}}))),s.a.createElement("div",{className:"converterContainer"},t?null:n,s.a.createElement("div",{className:"converter-main"},s.a.createElement("div",{className:"converter-side"},s.a.createElement("div",{className:"converter-side-input"},s.a.createElement("input",{defaultValue:this.state.FirstValue,id:"currency-exchange-value-1"}),s.a.createElement("select",{defaultValue:this.state.FirstCurrency,id:"currency-exchange-1"},a))),s.a.createElement("i",{className:"fas fa-arrow-right"}),s.a.createElement("div",{className:"converter-side"},s.a.createElement("div",{className:"converter-side-input"},s.a.createElement("input",{readOnly:!0,value:this.state.SecondValue,id:"currency-exchange-value-2"}),s.a.createElement("select",{defaultValue:this.state.SecondCurrency,id:"currency-exchange-2"},a)))),s.a.createElement("div",{className:"converter-button"},s.a.createElement("button",{class:"btn-convert",onClick:function(t){return e.calculateExchange()}},"Convert")))}},{key:"render",value:function(){return this.state.isLoading?s.a.createElement("h1",null,"Loading..."):s.a.createElement(s.a.Fragment,null,this.renderConverter(),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"TableHeaderCurrencyCode"},"\u041a\u043e\u0434 \u0432\u0430\u043b\u044e\u0442\u044b"),s.a.createElement("th",{className:"TableHeaderCurrencyName"},"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043b\u044e\u0442\u044b"),s.a.createElement("th",{className:"TableHeaderCurrencyRate"},"\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442\u044b \u043f\u043e \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044e \u043a \u0440\u0443\u0431\u043b\u044e")),this.getExchangeData())))}},{key:"getExchangeData",value:function(){for(var e=[],t=this.state.data,a=0;a<y.length;a++){var n=y[a],r=b[a],c=t[n];e.push(s.a.createElement("tr",null,s.a.createElement("th",null,n),s.a.createElement("th",null,r),s.a.createElement("th",null,c)))}return e}}]),a}(l.Component),S=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("form",{class:"formApplication",onSubmit:function(t){t.preventDefault(),e.isValid()}},s.a.createElement("span",null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),s.a.createElement("input",{class:"InputMain",id:"name",type:"text",required:!0,minLength:"2",maxLength:"30",placeholder:"\u0418\u043c\u044f (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),s.a.createElement("input",{class:"InputMain",id:"surname",type:"text",required:!0,minLength:"2",maxLength:"30",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),s.a.createElement("input",{class:"InputMain",id:"email",type:"email",required:!0,placeholder:"E-Mail (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),s.a.createElement("input",{class:"InputMain",id:"password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),s.a.createElement("input",{class:"InputMain",id:"password1",type:"password",placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),s.a.createElement("div",{class:"InputPhoto"},s.a.createElement("span",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e:"),s.a.createElement("input",{class:"InputMain",id:"photo",type:"file",accept:"image/*"})),s.a.createElement("button",{class:"button",type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),s.a.createElement("div",{id:"statusSpan"}))}},{key:"renderStatus",value:function(e,t){var a=document.getElementById("statusSpan"),n=s.a.createElement("span",{style:{color:t}},e);u.a.render(n,a)}},{key:"isValid",value:function(){var e=document.getElementById("name"),t=document.getElementById("surname"),a=document.getElementById("email"),n=document.getElementById("password"),r=document.getElementById("password1"),c=document.getElementById("photo"),i=!1,l=new RegExp("^[A-Z\u0410-\u042f]+$","i"),s=new RegExp("^([A-Z\u0410-\u042f]|[0-9]|.|-|_)+@([A-Z\u0410-\u042f]|[0-9]|.|-|_)+.([A-Z\u0410-\u042f]|[0-9]|.)+$","i");if(!l.test(e.value)||!l.test(t.value))return alert("\u0418\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f \u043c\u043e\u0433\u0443\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b."),!1;if(!s.test(a.value))return alert("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0432\u0432\u0435\u0434\u0451\u043d e-mail."),!1;if(n.value.length<6)return alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),!1;if(n.value!==r.value)return alert("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442."),!1;if(0!==c.files.length){if(!(c.files[0].type.includes("image/")&&c.files[0].size<=10485760))return alert("\u0424\u0430\u0439\u043b \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0435\u0439 \u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440 \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c 10\u041c\u0431."),!1;i=!0}this.registration(i)}},{key:"uploadUserData",value:function(e,t){var a=this;f.firestore.collection("users").doc(e).set({name:t[0],surname:t[1],avatar:""!==t[2].value}).then((function(n){if(a.renderStatus("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0431\u044b\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430","green"),""!==t[2].value){var r=f.storage.ref(),c={contentType:t[2].files[0].type};r.child(e+".jpg").put(t[2].files[0],c).then((function(e){window.location.assign("#")})).catch((function(e){a.renderStatus(e.message,"red")}))}})).catch((function(e){a.renderStatus("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445: "+e,"red")}))}},{key:"registration",value:function(e){var t=this,a=document.getElementById("name").value,n=document.getElementById("surname").value,r=document.getElementById("email").value,c=document.getElementById("password").value,i=[a,n,document.getElementById("photo")];f.auth.createUserWithEmailAndPassword(r,c).then((function(e){t.uploadUserData(f.auth.currentUser.uid,i)})).catch((function(e){t.renderStatus(e.message,"red")}))}}]),a}(l.Component),N=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:"formApplication",onSubmit:function(t){t.preventDefault(),e.login()}},s.a.createElement("span",null,"\u041b\u043e\u0433\u0438\u043d"),s.a.createElement("input",{className:"InputMain",id:"login",type:"email",required:!0,placeholder:"E-Mail"}),s.a.createElement("input",{className:"InputMain",id:"password",type:"password",placeholder:"Password"}),s.a.createElement("button",{className:"button",type:"submit"},"\u0412\u043e\u0439\u0442\u0438"),s.a.createElement("small",null,"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? ",s.a.createElement(d.b,{to:"/registration"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c.")),s.a.createElement("span",{id:"statusSpan"}))}},{key:"renderStatus",value:function(e,t){var a=document.getElementById("statusSpan"),n=s.a.createElement("span",{style:{color:t}},e);u.a.render(n,a)}},{key:"login",value:function(){var e=this,t=document.getElementById("login").value,a=document.getElementById("password").value;f.auth.signInWithEmailAndPassword(t,a).then((function(t){e.renderStatus("Login successful","green"),f.auth.setPersistence(f.persistence.SESSION).then((function(e){window.location.assign("#")}))})).catch((function(t){e.renderStatus(t.message,"red")}))}}]),a}(l.Component);a(47);f.prototype.init();var k=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={isLoggedIn:!1,name:"",avatar:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.auth.onAuthStateChanged((function(t){t?(e.setState({isLoggedIn:!0}),e.getNamefromFirebase(t)):e.setState({isLoggedIn:!1})}))}},{key:"render",value:function(){return s.a.createElement(d.a,null,this.renderHeader(),s.a.createElement("div",{class:"contentContainer"},s.a.createElement("div",{class:"content"},s.a.createElement(m.a,{path:"/",component:I,exact:!0}),s.a.createElement(m.a,{path:"/auth",component:N}),s.a.createElement(m.a,{path:"/registration",component:S}))))}},{key:"getNamefromFirebase",value:function(e){var t=this;f.firestore.collection("users").doc(e.uid).get().then((function(a){t.setState({name:a.data().name,avatar:a.data().avatar}),t.renderName(),t.getAvatarFromFirebase(e)})).catch((function(e){console.log("Firestore Error =>",e.message,"(If you just registered than it's \"okay\" that this error shows, because photo hasn't done uploading just yet and auth hook is already triggered.)")}))}},{key:"getAvatarFromFirebase",value:function(e){var t=this.state.avatar?e.uid:"default";f.storage.ref().child(t+".jpg").getDownloadURL().then((function(e){document.getElementById("user-avatar").src=e})).catch((function(e){console.log("download avatar =>",e.message)}))}},{key:"renderName",value:function(){var e=document.getElementById("user-name");u.a.render(this.state.name,e)}},{key:"renderLoggedIn",value:function(){return s.a.createElement("div",{className:"userInfo"},s.a.createElement("img",{alt:"",id:"user-avatar",height:"40",width:"40"}),s.a.createElement("span",{id:"user-name"}),s.a.createElement("button",{className:"btn-logout",onClick:f.prototype.logout.bind(this)},"\u0412\u044b\u0439\u0442\u0438"))}},{key:"renderLoggedOut",value:function(){return s.a.createElement(d.b,{to:"/auth"},s.a.createElement("button",{className:"btn-login"},"\u0412\u043e\u0439\u0442\u0438"))}},{key:"renderHeader",value:function(){var e=this.state.isLoggedIn;return s.a.createElement("div",{className:"headerContainer"},s.a.createElement("div",{className:"header"},s.a.createElement(d.b,{className:"LogoTitle",to:"/"},"\u041a\u041e\u041d\u0412\u0415\u0420\u0422\u0415\u0420 \u0412\u0410\u041b\u042e\u0422"),e?this.renderLoggedIn():this.renderLoggedOut()))}}]),a}(l.Component);t.default=k;u.a.render(s.a.createElement(k,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.829ac472.chunk.js.map